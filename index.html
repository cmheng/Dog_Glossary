<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <title>Dog Glossary</title>
    <link rel="stylesheet" href="css/bootstrap.css">
</head>
<body>
    <h1>Dog Glossary</h1>
    <button id="button-random-dog" type="button">Show Random Dog</button>
    <input id="input-breed" type="text" placeholder="Enter a breed">
    <button id="button-show-breed" type="button">Show Breed</button>
    <button id="button-show-sub-breed" type="button">Show Sub-Breed</button>
    <button id="button-show-all" type="button">Show All Breeds</button>
    <br><br>
    <div id="content">
    </div>

<script>
    const randomButton = document.getElementById("button-random-dog");
    const showBreedButton = document.getElementById("button-show-breed");
    const showSubBreedButton = document.getElementById("button-show-sub-breed");
    const showAllBreedButton = document.getElementById("button-show-all");
    const content = document.getElementById("content");

    randomButton.addEventListener("click", () => {
        fetch("https://dog.ceo/api/breeds/image/random")
            .then(response => response.json())
            .then(data => {
                content.innerHTML = `<img src="${data.message}" alt="Random dog">`;
            })
            .catch(error => {
                console.error("Error fetching dog image: ", error);
            });
    });

    showBreedButton.addEventListener("click", () => {
        let inputBreed = document.getElementById("input-breed");
        let breed = inputBreed.value.toLowerCase();
        fetch(`https://dog.ceo/api/breed/${breed}/images/random`)
            .then(response => response.json())
            .then(data => {
                if (data.status === "error") {
                    console.error("Error fetching dog image: ", data.message);
                    content.innerHTML = "<p>Breed not found!</p>";
                } else {
                    content.innerHTML = `<img src="${data.message}" alt="Random dog">`;
                }
            })
            .catch(error => {
                console.error(error);
            });
    });

    showSubBreedButton.addEventListener("click", () => {
        let inputBreed = document.getElementById("input-breed");
        let breed = inputBreed.value.toLowerCase();
        fetch(`https://dog.ceo/api/breed/${breed}/list`)
            .then(response => response.json())
            .then(data => {
                if (data.status === "error") {
                    console.error("Error: ", data.message);
                    content.innerHTML = "<p>Breed not found!</p>";
                } else {
                    let subArr = data.message;
                    if (subArr.length === 0) {
                        content.innerHTML = "<p>No sub-breeds found!</p>";
                    } else {
                        let htmlContent = "<ol>";
                        for (let i = 0; i < subArr.length; i++) {
                            htmlContent += `<li>${subArr[i]}</li>`;
                        }
                        htmlContent += `</ol>`;
                        content.innerHTML = htmlContent;
                    }

                }
            })
            .catch(error => {
                console.error(error);
            });
    });

    showAllBreedButton.addEventListener("click", () => {
        fetch(`https://dog.ceo/api/breeds/list/all`)
            .then(response => response.json())
            .then(data => {
                let allBreeds = data.message;
                let htmlContent = "<ol>";
                Object.entries(allBreeds).forEach(([breed, subBreads]) => {
                    htmlContent += `<li>${breed}`;
                    if (subBreads.length > 0) {
                        htmlContent += "<ul>";
                        for (let i = 0; i < subBreads.length; i++) {
                            htmlContent += `<li>${subBreads[i]}</li>`;
                        }
                        htmlContent += `</ul>`;
                    }
                    htmlContent += "</li>";
                });
                htmlContent += `</ol>`;
                content.innerHTML = htmlContent;
            })
            .catch(error => {
                console.error(error);
            });
    });

</script>
<script src="js/bootstrap.js"></script>
</body>
</html>